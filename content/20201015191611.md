---
title: VHDL 5 - Diseño secuencial
---

Circuitos secuenciales -> La salida depende de las entradas y del estado (memoria).

![](./media/20201015/1.png)


![](./media/20201015/2.png)

### D Latch

![](./media/20201015/3.png)


```VHDL
library ieee;
use ieee.std_logic_1164.all;
entity dlatch is
    port(
        c: in std_logic;
        d: in std_logic;
        q: out std_logic
    );
end dlatch;
architecture arch of dlatch is
begin
    process (c, d)
    begin
        if (c='1') then
            q <= d;
        end if;
    end process;
end arch;
```

### Pos edge-triggered D FF

```VHDL
library ieee;
use ieee.std_logic_1164.all;
entity dff is
    port(
        clk: in std_logic;
        d: in std_logic;
        q: out std_logic
    );
end dff;
architecture arch of dff is
begin
    process (clk)
    begin
        if (clk'event and clk='1') then
            q <= d;
        end if;
    end process;
end arch;
```

### D FF with async reset

```VHDL
library ieee;
use ieee.std_logic_1164.all;
entity dffr is
    port(
        clk: in std_logic;
        reset: in std_logic;
        d: in std_logic;
        q: out std_logic
    );
end dffr;
architecture arch of dffr is
begin
    process (clk, reset)
    begin
        if (reset='1') then
            q <='0';
        elsif (clk'event and clk='1') then
            q <= d;
        end if;
    end process;
end arch;
```

### Basic Block Diagram

![](./media/20201015/4.png)


**state_reg** -> Memory element
**next-state logic** -> Circuito conbinacional
**output logic** -> Circuito combinacional

Cuando se produce un flanco de reloj, state_next se guarda en registro -> state_reg
El valor de next_state determina el nuevo valor para la lógica de salida.
Vuelve a subir l flanco de reloj y el nuevo valor de state_next se guarda en registro